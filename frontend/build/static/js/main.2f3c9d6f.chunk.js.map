{"version":3,"sources":["constants/productConstants.js","constants/cartConstants.js","constants/userConstants.js","constants/orderConstants.js","store.js","reducers/cartReducers.js","reducers/productReducers.js","reducers/userReducers.js","reducers/orderReducer.js","actions/userActions.js","components/SearchBox.js","components/Header.js","components/Footer.js","components/Rating.js","components/Product.js","components/Message.js","components/Loader.js","actions/productActions.js","components/Paginate.js","components/Meta.js","components/ProductCarousel.js","screens/HomeScreen.js","screens/ProductScreen.js","actions/cartAction.js","screens/CartScreen.js","components/FormContainer.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","actions/orderActions.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/UserEditScreen.js","screens/ProductListScreen.js","screens/ProductEditScreen.js","screens/OrderListScreen.js","App.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_RESET","PRODUCT_CREATE_REVIEW_REQUEST","PRODUCT_CREATE_REVIEW_SUCCESS","PRODUCT_CREATE_REVIEW_FAIL","PRODUCT_CREATE_REVIEW_RESET","PRODUCT_TOP_REQUEST","PRODUCT_TOP_SUCCESS","PRODUCT_TOP_FAIL","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_LOGOUT","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_REGISTER_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_RESET","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_RESET","USER_LIST_REQUEST","USER_LIST_SUCCESS","USER_LIST_FAIL","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","USER_UPDATE_RESET","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_LIST_REQUEST","ORDER_LIST_SUCCESS","ORDER_LIST_FAIL","ORDER_LIST_RESET","ORDER_ALL_LIST_REQUEST","ORDER_ALL_LIST_SUCCESS","ORDER_ALL_LIST_FAIL","ORDER_DELIVER_REQUEST","ORDER_DELIVER_SUCCESS","ORDER_DELIVER_FAIL","ORDER_DELIVER_RESET","reducer","combineReducers","cart","state","cartItems","shippingAddress","action","type","item","payload","existItem","find","x","product","map","filter","paymentMethod","productList","products","loading","page","pages","error","productDetails","reviews","productCreate","success","productDelete","productUpdate","productCreateReview","productTopRated","userLogin","userInfo","userRegister","userDetails","user","userUpdateProfile","userList","users","userDelete","userUpdate","orderCreate","order","orderDetails","orderItems","orderPay","orders","orderDeliver","orderList","orderListAll","cartItemsFromStorage","localStorage","getItem","JSON","parse","userInfoFromStorage","initialState","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","getUserDetails","id","dispatch","getState","a","config","headers","Authorization","token","axios","get","data","console","log","response","message","SearchBox","history","useState","keyword","setKeyword","Form","onSubmit","e","preventDefault","trim","push","inline","style","display","Control","name","onChange","target","value","className","placeholder","Button","variant","Header","useDispatch","useSelector","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","render","Nav","Link","NavDropdown","title","Item","onClick","removeItem","isAdmin","Footer","Row","Col","Rating","text","color","defaultProps","Product","Card","_id","Img","src","image","Body","Title","as","Text","rating","numReviews","price","Message","children","Alert","Loader","Spinner","animation","role","width","height","margin","listProducts","pageNumber","listProductDetails","Paginate","getLink","Pagination","Array","keys","active","Meta","description","keywords","Helmet","content","ProductCarousel","useEffect","Carousel","pause","Image","alt","fluid","Caption","HomeScreen","match","params","sm","md","lg","xl","ProductScreen","qty","setQty","comment","setComment","setRating","successReview","errorReview","alert","ListGroup","countInStock","disabled","length","review","createdAt","substring","productId","post","Group","controlId","Label","row","addToCart","setItem","stringify","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","rounded","reduce","acc","toFixed","FormContainer","xs","LoginScreen","email","setEmail","password","setPassword","redirect","login","RegisterScreen","setName","confirmPassword","setConfirmPassword","setMessage","register","ProfileScreen","loadingOrders","errorOrders","patch","updateUserProfile","Table","striped","bordered","hover","responsive","totalPrice","isPaid","paidAt","isDelivered","deliveredAt","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","required","PaymentScreen","setPaymentMethod","Check","label","checked","PlaceOrderScreen","addDecimals","num","Math","round","itemsPrice","sum","shippingPrice","taxPrice","index","createOrder","OrderScreen","orderId","sdkReady","setSdkReady","loadingPay","successPay","loadingDeliver","successDeliver","addPayPalScript","clientId","script","document","createElement","async","onload","body","appendChild","window","paypal","replace","successDeliverHandler","deliverOrder","href","amount","onSuccess","paymentResult","payOrder","UserListScreen","successDelete","deleteUserHandler","confirm","delete","deleteUser","UserEditScreen","userId","setIsAdmin","loadingUpdate","errorUpdate","successUpdate","updateUser","ProductListScreen","loadingDelete","errorDelete","loadingCreate","successCreate","createdProduct","errorCreate","deleteProductHandler","deleteProduct","category","brand","ProductEditScreen","firstUpdate","useRef","setPrice","setBrand","setCategory","setImage","setCountInStock","setDescription","uploading","setUploading","current","uploadFileHandler","file","files","formdata","FormData","append","updateProduct","File","custom","OrderListScreen","App","path","component","exact","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.2f3c9d6f.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST'\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS'\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL'\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST'\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS'\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL'\r\n\r\nexport const PRODUCT_DELETE_REQUEST = 'PRODUCT_DELETE_REQUEST'\r\nexport const PRODUCT_DELETE_SUCCESS = 'PRODUCT_DELETE_SUCCESS'\r\nexport const PRODUCT_DELETE_FAIL = 'PRODUCT_DELETE_FAIL'\r\n\r\nexport const PRODUCT_CREATE_REQUEST = 'PRODUCT_CREATE_REQUEST'\r\nexport const PRODUCT_CREATE_SUCCESS = 'PRODUCT_CREATE_SUCCESS'\r\nexport const PRODUCT_CREATE_FAIL = 'PRODUCT_CREATE_FAIL'\r\nexport const PRODUCT_CREATE_RESET = 'PRODUCT_CREATE_RESET'\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST'\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS'\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL'\r\nexport const PRODUCT_UPDATE_RESET = 'PRODUCT_UPDATE_RESET'\r\n\r\n\r\nexport const PRODUCT_CREATE_REVIEW_REQUEST = 'PRODUCT_CREATE_REVIEW_REQUEST'\r\nexport const PRODUCT_CREATE_REVIEW_SUCCESS = 'PRODUCT_CREATE_REVIEW_SUCCESS'\r\nexport const PRODUCT_CREATE_REVIEW_FAIL = 'PRODUCT_CREATE_REVIEW_FAIL'\r\nexport const PRODUCT_CREATE_REVIEW_RESET = 'PRODUCT_CREATE_REVIEW_RESET'\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST'\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS'\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL'","export const CART_ADD_ITEM = 'CART_ADD_ITEM'\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM'\r\n\r\n\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS'\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD'","export const USER_LOGIN_REQUEST = 'USER_LOGIN_REQUEST'\r\nexport const USER_LOGIN_SUCCESS = 'USER_LOGIN_SUCCESS'\r\nexport const USER_LOGIN_FAIL = 'USER_LOGIN_FAIL'\r\nexport const USER_LOGOUT = 'USER_LOGOUT'\r\n\r\nexport const USER_REGISTER_REQUEST = 'USER_REGISTER_REQUEST'\r\nexport const USER_REGISTER_SUCCESS = 'USER_REGISTER_SUCCESS'\r\nexport const USER_REGISTER_FAIL = 'USER_REGISTER_FAIL'\r\n\r\nexport const USER_DETAILS_REQUEST = 'USER_DETAILS_REQUEST'\r\nexport const USER_DETAILS_SUCCESS = 'USER_DETAILS_SUCCESS'\r\nexport const USER_DETAILS_FAIL = 'USER_DETAILS_FAIL'\r\nexport const USER_DETAILS_RESET = 'USER_DETAILS_RESET'\r\n\r\nexport const USER_UPDATE_PROFILE_REQUEST = 'USER_UPDATE_PROFILE_REQUEST'\r\nexport const USER_UPDATE_PROFILE_SUCCESS = 'USER_UPDATE_PROFILE_SUCCESS'\r\nexport const USER_UPDATE_PROFILE_FAIL = 'USER_UPDATE_PROFILE_FAIL'\r\nexport const USER_UPDATE_PROFILE_RESET = 'USER_UPDATE_RESET'\r\n\r\nexport const USER_LIST_REQUEST = 'USER_LIST_REQUEST'\r\nexport const USER_LIST_SUCCESS = 'USER_LIST_SUCCESS'\r\nexport const USER_LIST_FAIL = 'USER_LIST_FAIL'\r\nexport const USER_LIST_RESET = 'USER_LIST_RESET'\r\n\r\nexport const USER_DELETE_REQUEST = 'USER_DELETE_REQUEST'\r\nexport const USER_DELETE_SUCCESS = 'USER_DELETE_SUCCESS'\r\nexport const USER_DELETE_FAIL = 'USER_LIST_FAIL'\r\n\r\nexport const USER_UPDATE_REQUEST = 'USER_UPDATE_REQUEST'\r\nexport const USER_UPDATE_SUCCESS = 'USER_UPDATE_SUCCESS'\r\nexport const USER_UPDATE_FAIL = 'USER_UPDATE_FAIL'\r\nexport const USER_UPDATE_RESET = 'USER_UPDATE_RESET'","export const ORDER_CREATE_REQUEST = 'ORDER_CREATE_REQUEST'\r\nexport const ORDER_CREATE_SUCCESS = 'ORDER_CREATE_SUCCESS'\r\nexport const ORDER_CREATE_FAIL = 'ORDER_CREATE_FAIL'\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAILS_REQUEST'\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAILS_SUCCESS'\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAILS_FAIL'\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST'\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS'\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL'\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET'\r\n\r\nexport const ORDER_LIST_REQUEST = 'ORDER_LIST_REQUEST'\r\nexport const ORDER_LIST_SUCCESS = 'ORDER_LIST_SUCCESS'\r\nexport const ORDER_LIST_FAIL = 'ORDER_LIST_FAIL'\r\nexport const ORDER_LIST_RESET = 'ORDER_LIST_RESET'\r\n\r\nexport const ORDER_ALL_LIST_REQUEST = 'ORDER_ALL_LIST_REQUEST'\r\nexport const ORDER_ALL_LIST_SUCCESS = 'ORDER_ALL_LIST_SUCCESS'\r\nexport const ORDER_ALL_LIST_FAIL = 'ORDER_ALL_LIST_FAIL'\r\n\r\nexport const ORDER_DELIVER_REQUEST = 'ORDER_DELIVER_REQUEST'\r\nexport const ORDER_DELIVER_SUCCESS = 'ORDER_DELIVER_SUCCESS'\r\nexport const ORDER_DELIVER_FAIL = 'ORDER_DELIVER_FAIL'\r\nexport const ORDER_DELIVER_RESET = 'ORDER_DELIVER_RESET'","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport {\r\n\tproductCreateReducer,\r\n\tproductCreateReviewReducer,\r\n\tproductDeleteReducer,\r\n\tproductDetailsReducer,\r\n\tproductListReducer,\r\n\tproductTopRatedReducer,\r\n\tproductUpdateReducer,\r\n} from './reducers/productReducers.js'\r\nimport { cartReducer } from './reducers/cartReducers.js'\r\nimport {\r\n\tuserDeleteReducer,\r\n\tuserDetailsReducer,\r\n\tuserListReducer,\r\n\tuserLoginReducer,\r\n\tuserRegisterReducer,\r\n\tuserUpdateProfileReducer,\r\n\tuserUpdateReducer,\r\n} from './reducers/userReducers.js'\r\nimport {\r\n\tallOrderListReducer,\r\n\tmyOrderListReducer,\r\n\torderCreateReducer,\r\n\torderDeliverReducer,\r\n\torderDetailsReducer,\r\n\torderPayReducer,\r\n} from './reducers/orderReducer.js'\r\n\r\nconst reducer = combineReducers({\r\n\tcart: cartReducer,\r\n\tproductList: productListReducer,\r\n\tproductDetails: productDetailsReducer,\r\n\tproductCreate: productCreateReducer,\r\n\tproductDelete: productDeleteReducer,\r\n\tproductUpdate: productUpdateReducer,\r\n\tproductCreateReview: productCreateReviewReducer,\r\n\tproductTopRated: productTopRatedReducer,\r\n\tuserLogin: userLoginReducer,\r\n\tuserRegister: userRegisterReducer,\r\n\tuserDetails: userDetailsReducer,\r\n\tuserUpdateProfile: userUpdateProfileReducer,\r\n\tuserList: userListReducer,\r\n\tuserDelete: userDeleteReducer,\r\n\tuserUpdate: userUpdateReducer,\r\n\torderCreate: orderCreateReducer,\r\n\torderDetails: orderDetailsReducer,\r\n\torderPay: orderPayReducer,\r\n\torderDeliver: orderDeliverReducer,\r\n\torderList: myOrderListReducer,\r\n\torderListAll: allOrderListReducer,\r\n})\r\n\r\nconst cartItemsFromStorage = localStorage.getItem('cartItems')\r\n\t? JSON.parse(localStorage.getItem('cartItems'))\r\n\t: []\r\n\r\nconst userInfoFromStorage = localStorage.getItem('userInfo')\r\n\t? JSON.parse(localStorage.getItem('userInfo'))\r\n\t: null\r\n\r\nconst shippingAddressFromStorage = localStorage.getItem('shippingAddress')\r\n\t? JSON.parse(localStorage.getItem('shippingAddress'))\r\n\t: {}\r\n\r\nconst initialState = {\r\n\tcart: {\r\n\t\tcartItems: cartItemsFromStorage,\r\n\t\tshippingAddress: shippingAddressFromStorage,\r\n\t},\r\n\tuserLogin: {\r\n\t\tuserInfo: userInfoFromStorage,\r\n\t},\r\n}\r\n\r\nconst middleware = [thunk]\r\n\r\nconst store = createStore(\r\n\treducer,\r\n\tinitialState,\r\n\tcomposeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store\r\n","import { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = { cartItems: [], shippingAddress: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase CART_ADD_ITEM:\r\n\t\t\tconst item = action.payload\r\n\t\t\tconst existItem = state.cartItems.find((x) => x.product === item.product)\r\n\r\n\t\t\tif (existItem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: state.cartItems.map((x) =>\r\n\t\t\t\t\t\tx.product === existItem.product ? item : x\r\n\t\t\t\t\t),\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tcartItems: [...state.cartItems, item],\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\tcase CART_REMOVE_ITEM:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcartItems: state.cartItems.filter((x) => x.product !== action.payload),\r\n\t\t\t}\r\n\r\n\t\tcase CART_SAVE_SHIPPING_ADDRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshippingAddress: action.payload,\r\n\t\t\t}\r\n\t\tcase CART_SAVE_PAYMENT_METHOD:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaymentMethod: action.payload,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import {\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_CREATE_RESET,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_UPDATE_RESET,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_RESET,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL\r\n} from '../constants/productConstants.js'\r\n\r\nexport const productListReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_LIST_REQUEST:\r\n\t\t\treturn { loading: true, products: [] }\r\n\t\tcase PRODUCT_LIST_SUCCESS:\r\n\t\t\tconst { products, page, pages } = action.payload\r\n\t\t\treturn { loading: false, products, page, pages }\r\n\t\tcase PRODUCT_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const productDetailsReducer = (state = { product: { reviews: [] } }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DETAILS_REQUEST:\r\n\t\t\treturn { loading: true, ...state }\r\n\t\tcase PRODUCT_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, product: action.payload }\r\n\t\tcase PRODUCT_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const productDeleteReducer = (state = {  }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_DELETE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase PRODUCT_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\t\tcase PRODUCT_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const productCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase PRODUCT_CREATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload }\r\n\t\tcase PRODUCT_CREATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase PRODUCT_CREATE_RESET:\r\n\t\t\treturn { }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const productUpdateReducer = (state = { product: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase PRODUCT_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, product: action.payload }\r\n\t\tcase PRODUCT_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase PRODUCT_UPDATE_RESET:\r\n\t\t\treturn { product: {} }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const productCreateReviewReducer = (state = { }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_CREATE_REVIEW_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase PRODUCT_CREATE_REVIEW_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\t\tcase PRODUCT_CREATE_REVIEW_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase PRODUCT_CREATE_REVIEW_RESET:\r\n\t\t\treturn { }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const productTopRatedReducer = (state = { products: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase PRODUCT_TOP_REQUEST:\r\n\t\t\treturn { loading: true, products: [] }\r\n\t\tcase PRODUCT_TOP_SUCCESS: \r\n\t\t\treturn { loading: false, products: action.payload }\r\n\t\tcase PRODUCT_TOP_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import {\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_RESET,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_RESET,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_RESET,\r\n\tUSER_UPDATE_SUCCESS,\r\n} from '../constants/userConstants'\r\n\r\nexport const userLoginReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOGIN_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase USER_LOGIN_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload }\r\n\t\tcase USER_LOGIN_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase USER_LOGOUT:\r\n\t\t\treturn {}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const userRegisterReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_REGISTER_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase USER_REGISTER_SUCCESS:\r\n\t\t\treturn { loading: false, userInfo: action.payload }\r\n\t\tcase USER_REGISTER_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const userDetailsReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DETAILS_REQUEST:\r\n\t\t\treturn { ...state, loading: true }\r\n\t\tcase USER_DETAILS_SUCCESS:\r\n\t\t\treturn { loading: false, user: action.payload }\r\n\t\tcase USER_DETAILS_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase USER_DETAILS_RESET:\r\n\t\t\treturn { user: {} }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const userUpdateProfileReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_PROFILE_REQUEST:\r\n\t\t\treturn { loading: true, user: {} }\r\n\t\tcase USER_UPDATE_PROFILE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true, userInfo: action.payload }\r\n\t\tcase USER_UPDATE_PROFILE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase USER_UPDATE_PROFILE_RESET:\r\n\t\t\treturn {}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const userListReducer = (state = { users: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LIST_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase USER_LIST_SUCCESS:\r\n\t\t\treturn { loading: false, users: action.payload }\r\n\t\tcase USER_LIST_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase USER_LIST_RESET:\r\n\t\t\treturn { user: {} }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const userDeleteReducer = (state = { }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_DELETE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase USER_DELETE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\t\tcase USER_DELETE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const userUpdateReducer = (state = { user: {} }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase USER_UPDATE_REQUEST:\r\n\t\t\treturn { loading: true }\r\n\t\tcase USER_UPDATE_SUCCESS:\r\n\t\t\treturn { loading: false, success: true }\r\n\t\tcase USER_UPDATE_FAIL:\r\n\t\t\treturn { loading: false, error: action.payload }\r\n\t\tcase USER_UPDATE_RESET:\r\n\t\t\treturn { user: {} }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}","import {\r\n\tORDER_LIST_FAIL,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_RESET,\r\n\tORDER_PAY_SUCCESS,\r\n\tORDER_LIST_RESET,\r\n\tORDER_ALL_LIST_FAIL,\r\n\tORDER_ALL_LIST_SUCCESS,\r\n\tORDER_ALL_LIST_REQUEST,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_RESET,\r\n} from '../constants/orderConstants'\r\n\r\nexport const orderCreateReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_CREATE_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_CREATE_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\tsuccess: true,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_CREATE_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const orderDetailsReducer = (\r\n\tstate = { loading: true, order: { orderItems: [] }, shippingAddress: {} },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DETAILS_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_DETAILS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torder: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_DETAILS_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const orderPayReducer = (\r\n\tstate = { },\r\n\taction\r\n) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_PAY_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_PAY_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_PAY_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_PAY_RESET:\r\n\t\t\treturn {}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\nexport const orderDeliverReducer = (state = {}, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_DELIVER_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_DELIVER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_DELIVER_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_DELIVER_RESET:\r\n\t\t\treturn {}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const myOrderListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_LIST_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_LIST_RESET:\r\n\t\t\treturn { orders: [] }\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n\r\nexport const allOrderListReducer = (state = { orders: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ORDER_ALL_LIST_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t}\r\n\t\tcase ORDER_ALL_LIST_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\torders: action.payload,\r\n\t\t\t}\r\n\t\tcase ORDER_ALL_LIST_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload,\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n\r\n","import axios from 'axios'\r\nimport { ORDER_LIST_RESET } from '../constants/orderConstants'\r\nimport {\r\n\tUSER_DELETE_FAIL,\r\n\tUSER_DELETE_REQUEST,\r\n\tUSER_DELETE_SUCCESS,\r\n\tUSER_DETAILS_FAIL,\r\n\tUSER_DETAILS_REQUEST,\r\n\tUSER_DETAILS_RESET,\r\n\tUSER_DETAILS_SUCCESS,\r\n\tUSER_LIST_FAIL,\r\n\tUSER_LIST_REQUEST,\r\n\tUSER_LIST_RESET,\r\n\tUSER_LIST_SUCCESS,\r\n\tUSER_LOGIN_FAIL,\r\n\tUSER_LOGIN_REQUEST,\r\n\tUSER_LOGIN_SUCCESS,\r\n\tUSER_LOGOUT,\r\n\tUSER_REGISTER_FAIL,\r\n\tUSER_REGISTER_REQUEST,\r\n\tUSER_REGISTER_SUCCESS,\r\n\tUSER_UPDATE_FAIL,\r\n\tUSER_UPDATE_PROFILE_FAIL,\r\n\tUSER_UPDATE_PROFILE_REQUEST,\r\n\tUSER_UPDATE_PROFILE_SUCCESS,\r\n\tUSER_UPDATE_REQUEST,\r\n\tUSER_UPDATE_SUCCESS,\r\n} from '../constants/userConstants'\r\n\r\nexport const login = (email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.post('/api/users/login', { email, password }, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data))\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n\tlocalStorage.removeItem('userInfo')\r\n\tdispatch({\r\n\t\ttype: USER_LOGOUT,\r\n\t})\r\n\tdispatch({\r\n\t\ttype: USER_DETAILS_RESET,\r\n\t})\r\n\tdispatch({\r\n\t\ttype: ORDER_LIST_RESET,\r\n\t})\r\n\tdispatch({\r\n\t\ttype: USER_LIST_RESET,\r\n\t})\r\n}\r\n\r\nexport const register = (name, email, password) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.post('/api/users', { name, email, password }, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOGIN_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\r\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(data))\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_REGISTER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const getUserDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.get(`/api/users/${id}`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.patch(`/api/users/profile`, user, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_PROFILE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const listUsers = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.get(`/api/users`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const deleteUser = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tawait axios.delete(`/api/users/${id}`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_SUCCESS\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const updateUser = (user) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.patch(`/api/users/${user._id}`, user, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_SUCCESS\r\n\t\t})\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: USER_UPDATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\n\r\nconst SearchBox = ({ history }) => {\r\n\tconst [keyword, setKeyword] = useState('')\r\n\r\n\tconst submitHandler = (e) => {\r\n        e.preventDefault()\r\n        if(keyword.trim()) {\r\n            history.push(`/search/${keyword}`)\r\n        } else {\r\n            history.push('/')\r\n        }\r\n    }\r\n\r\n\treturn (\r\n\t\t<Form onSubmit={submitHandler} inline style={{ display: 'inline-block' }}>\r\n\t\t\t<Form.Control\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"q\"\r\n\t\t\t\tonChange={(e) => setKeyword(e.target.value)}\r\n\t\t\t\tclassName=\"mr-sm-2 ml-sm-5\"\r\n\t\t\t\tstyle={{ display: 'inline-block' }}\r\n\t\t\t\tplaceholder=\"Search Products...\"></Form.Control>\r\n\t\t\t<Button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tvariant=\"outline-success\"\r\n\t\t\t\tclassName=\"p-2\"\r\n\t\t\t\tstyle={{ display: 'inline-block' }}>\r\n\t\t\t\tSearch\r\n\t\t\t</Button>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nexport default SearchBox\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Nav, Navbar, Container, NavDropdown } from 'react-bootstrap'\r\nimport { logout } from '../actions/userActions'\r\nimport SearchBox from './SearchBox'\r\n\r\nconst Header = () => {\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst userLogin = useSelector(state => state.userLogin)\r\n\tconst { userInfo } = userLogin\r\n\r\n\tconst logoutHandler = (e) => {\r\n\t\tdispatch(logout())\r\n\t}\r\n\r\n\treturn (\r\n\t\t<header>\r\n\t\t\t<Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" collapseOnSelect>\r\n\t\t\t\t<Container>\r\n\t\t\t\t\t<LinkContainer to=\"/\">\r\n\t\t\t\t\t\t<Navbar.Brand>ProShop</Navbar.Brand>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\t\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">\r\n\t\t\t\t\t\t<Route render={({ history }) => <SearchBox history={history} />} />\r\n\t\t\t\t\t\t<Nav className=\"ms-auto\">\r\n\t\t\t\t\t\t\t<LinkContainer to=\"/cart\">\r\n\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t<i className=\"fas fa-shopping-cart\"> Cart</i>\r\n\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t<NavDropdown title={userInfo.name} id=\"username\">\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/profile\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Profile</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<NavDropdown.Item onClick={logoutHandler}>\r\n\t\t\t\t\t\t\t\t\t\tLog out\r\n\t\t\t\t\t\t\t\t\t</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<LinkContainer to=\"/login\">\r\n\t\t\t\t\t\t\t\t\t<Nav.Link>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-user\"> Sign In</i>\r\n\t\t\t\t\t\t\t\t\t</Nav.Link>\r\n\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{userInfo && userInfo.isAdmin && (\r\n\t\t\t\t\t\t\t\t<NavDropdown title=\"Admin\" id=\"adminmenu\">\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/userlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Users</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/productlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Products</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to=\"/admin/orderlist\">\r\n\t\t\t\t\t\t\t\t\t\t<NavDropdown.Item>Orders</NavDropdown.Item>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Nav>\r\n\t\t\t\t\t</Navbar.Collapse>\r\n\t\t\t\t</Container>\r\n\t\t\t</Navbar>\r\n\t\t</header>\r\n\t)\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n            <Container>\r\n                <Row>\r\n                    <Col className='text-center py-3'>\r\n                        Copyright &copy; ProShop\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst Rating = ({ value, text, color }) => {\r\n\treturn (\r\n\t\t<div className=\"rating\">\r\n\t\t\t<span>\r\n\t\t\t\t<i  style={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 1\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 0.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i  style={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 2\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 1.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i  style={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 3\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 2.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i  style={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 4\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 3.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span>\r\n\t\t\t\t<i  style={{ color }}\r\n\t\t\t\t\tclassName={\r\n\t\t\t\t\t\tvalue >= 5\r\n\t\t\t\t\t\t\t? 'fas fa-star'\r\n\t\t\t\t\t\t\t: value >= 4.5\r\n\t\t\t\t\t\t\t? 'fas fa-star-half-alt'\r\n\t\t\t\t\t\t\t: 'far fa-star'\r\n\t\t\t\t\t}></i>\r\n\t\t\t</span>\r\n\t\t\t<span> {text && text}</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nRating.defaultProps = {\r\n    color: '#f8e825'\r\n}\r\n\r\nRating.propTypes = {\r\n    value: PropTypes.number.isRequired,\r\n    text: PropTypes.string.isRequired,\r\n    color: PropTypes.string\r\n}\r\n\r\nexport default Rating\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { Card } from 'react-bootstrap';\r\nimport Rating from './Rating';\r\n\r\nconst Product = ({ product }) => {\r\n\treturn (\r\n\t\t<Card className=\"my-3 p-3 rounded\">\r\n\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t<Card.Img src={product.image} variant=\"top\" />\r\n\t\t\t</Link>\r\n\r\n\t\t\t<Card.Body>\r\n\t\t\t\t<Link to={`/product/${product._id}`}>\r\n\t\t\t\t\t<Card.Title as=\"div\">\r\n\t\t\t\t\t\t<strong>{product.name}</strong>\r\n\t\t\t\t\t</Card.Title>\r\n\t\t\t\t</Link>\r\n\r\n\t\t\t\t<Card.Text as=\"div\">\r\n\t\t\t\t\t<Rating\r\n\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card.Text>\r\n\r\n\t\t\t\t<Card.Text as=\"h3\">${product.price}</Card.Text>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react'\r\nimport { Alert } from 'react-bootstrap'\r\n\r\nconst Message = ({variant, children}) => {\r\n    return (\r\n        <Alert variant={variant}>\r\n            {children}\r\n        </Alert>\r\n    )\r\n}\r\n\r\nMessage.defaultProps = {\r\n    variant: 'info'\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <Spinner animation='border' role='status' style={{\r\n            width: '100px',\r\n            height: '100px',\r\n            margin: 'auto',\r\n            display: 'block'\r\n        }}>\r\n            <span className='sr-only'>Loading...</span>\r\n        </Spinner>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import axios from 'axios'\r\nimport {\r\n\tPRODUCT_LIST_SUCCESS,\r\n\tPRODUCT_LIST_REQUEST,\r\n\tPRODUCT_LIST_FAIL,\r\n\tPRODUCT_DETAILS_REQUEST,\r\n\tPRODUCT_DETAILS_SUCCESS,\r\n\tPRODUCT_DETAILS_FAIL,\r\n\tPRODUCT_DELETE_REQUEST,\r\n\tPRODUCT_DELETE_SUCCESS,\r\n\tPRODUCT_DELETE_FAIL,\r\n\tPRODUCT_CREATE_REQUEST,\r\n\tPRODUCT_CREATE_SUCCESS,\r\n\tPRODUCT_CREATE_FAIL,\r\n\tPRODUCT_UPDATE_REQUEST,\r\n\tPRODUCT_UPDATE_SUCCESS,\r\n\tPRODUCT_UPDATE_FAIL,\r\n\tPRODUCT_CREATE_REVIEW_REQUEST,\r\n\tPRODUCT_CREATE_REVIEW_SUCCESS,\r\n\tPRODUCT_CREATE_REVIEW_FAIL,\r\n\tPRODUCT_TOP_REQUEST,\r\n\tPRODUCT_TOP_SUCCESS,\r\n\tPRODUCT_TOP_FAIL,\r\n} from '../constants/productConstants.js'\r\n\r\nexport const listProducts =\r\n\t(keyword = '', pageNumber = '') =>\r\n\tasync (dispatch) => {\r\n\t\ttry {\r\n\t\t\tdispatch({ type: PRODUCT_LIST_REQUEST })\r\n\r\n\t\t\tconst { data } = await axios.get(\r\n\t\t\t\t`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`\r\n\t\t\t)\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_SUCCESS,\r\n\t\t\t\tpayload: data,\r\n\t\t\t})\r\n\t\t} catch (error) {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: PRODUCT_LIST_FAIL,\r\n\t\t\t\tpayload:\r\n\t\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t\t: error.message,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DETAILS_REQUEST })\r\n\r\n\t\tconst { data } = await axios.get(`/api/products/${id}`)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_SUCCESS,\r\n\t\t\tpayload: data.product,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_DELETE_REQUEST })\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tawait axios.delete(`/api/products/${id}`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_SUCCESS,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_DELETE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_REQUEST })\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.post(`/api/products`, {}, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_UPDATE_REQUEST })\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.patch(`/api/products/${product._id}`, product, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_UPDATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const createReview = (productId, review) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_REQUEST })\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tawait axios.post(`/api/products/${productId}/reviews`, review, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_SUCCESS,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_CREATE_REVIEW_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.message\r\n\t\t\t\t\t? error.response.data.message\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const listTopProducts = () => async (dispatch) => {\r\n\ttry {\r\n\t\tdispatch({ type: PRODUCT_TOP_REQUEST })\r\n\r\n\t\tconst { data } = await axios.get(`/api/products/top`)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tdispatch({\r\n\t\t\ttype: PRODUCT_TOP_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Pagination } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nconst Paginate = ({ pages, page, isAdmin = false, keyword = '' }) => {\r\n\r\n    \r\n\r\n    const getLink = (x) => {\r\n        let link\r\n\t\tif(isAdmin) link = `/admin/productlist/${x + 1}`\r\n        else {\r\n            link = keyword ? `/search/${keyword}/page/${x + 1}` : `/page/${x + 1}`\r\n        }\r\n        return link\r\n    }\r\n\r\n\treturn (\r\n\t\tpages > 1 && (\r\n\t\t\t<Pagination>\r\n\t\t\t\t{[...Array(pages).keys()].map((x) => (\r\n\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\tkey={x + 1}\r\n\t\t\t\t\t\tto={getLink(x)}>\r\n                            <Pagination.Item active={x + 1 === page }>{x + 1}</Pagination.Item>\r\n                        </LinkContainer>\r\n\t\t\t\t))}\r\n\t\t\t</Pagination>\r\n\t\t)\r\n\t)\r\n}\r\n\r\nexport default Paginate\r\n","import React from 'react'\r\nimport { Helmet } from 'react-helmet'\r\n\r\nconst Meta = ({ title, description, keywords }) => {\r\n\treturn (\r\n\t\t<Helmet>\r\n\t\t\t<title>{title}</title>\r\n\t\t\t<meta name=\"description\" content={description} />\r\n\t\t\t<meta name=\"keywords\" content={keywords} />\r\n\t\t</Helmet>\r\n\t)\r\n}\r\n\r\nMeta.defaultProps = {\r\n\ttitle: 'Welcome To EShop',\r\n    description: 'We sell the best products for cheap',\r\n\tkeywords: 'Electronics, buy electronics, cheap electronics',\r\n}\r\n\r\nexport default Meta\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { Carousel, Image } from 'react-bootstrap'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { listTopProducts } from '../actions/productActions'\r\n\r\nconst ProductCarousel = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const { loading, error, products } = useSelector(state => state.productTopRated)\r\n\r\n    useEffect(() => {\r\n        dispatch(listTopProducts())\r\n    }, [dispatch])\r\n\r\n    return loading ? <Loader/> : error ? <Message variant='danger'> {error}</Message> : (\r\n        <Carousel pause='hover' className='bg-dark'>\r\n            {products.map(product => (\r\n                <Carousel.Item key={product._id}>\r\n                    <Link to={`/product/${product._id}`}>\r\n                        <Image src={product.image} alt={product.name} fluid/>\r\n                        <Carousel.Caption className='carousel-caption'>\r\n                            <h2>\r\n                                {product.name} (${product.price})\r\n                            </h2>\r\n                        </Carousel.Caption>\r\n                    </Link>\r\n                </Carousel.Item>\r\n            ))}\r\n        </Carousel>\r\n    )\r\n}\r\n\r\nexport default ProductCarousel\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport Product from '../components/Product'\r\nimport Message from '../components/Message.js'\r\nimport Loader from '../components/Loader.js'\r\nimport { listProducts } from '../actions/productActions.js'\r\nimport Paginate from '../components/Paginate'\r\nimport Meta from '../components/Meta'\r\nimport ProductCarousel from '../components/ProductCarousel'\r\n\r\nconst HomeScreen = ({ match }) => {\r\n\tconst keyword = match.params.keyword\r\n\tconst pageNumber = match.params.pageNumber || 1\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { loading, error, products, page, pages } = useSelector((state) => state.productList)\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch(listProducts(keyword, pageNumber))\r\n\t}, [dispatch, keyword, pageNumber])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Meta />\r\n\t\t\t{!keyword ? <ProductCarousel /> : <Link to='/' className='btn btn-light'>Go back</Link> }\r\n\t\t\t<h1>Latest Products</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t{products.map((product) => (\r\n\t\t\t\t\t\t\t<Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n\t\t\t\t\t\t\t\t<Product product={product} />\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Paginate\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tpages={pages}\r\n\t\t\t\t\t\tpageNumber={pageNumber}\r\n\t\t\t\t\t\tkeyword={keyword ? keyword : ''}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default HomeScreen\r\n","import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap'\r\nimport Rating from '../components/Rating'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport Meta from '../components/Meta'\r\nimport { createReview, listProductDetails } from '../actions/productActions.js'\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants'\r\n\r\nconst ProductScreen = ({ history, match }) => {\r\n\tconst [qty, setQty] = useState(1)\r\n\tconst [comment, setComment] = useState('')\r\n\tconst [rating, setRating] = useState(0)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { loading, error, product } = useSelector((state) => state.productDetails)\r\n\tconst { success: successReview, error: errorReview } = useSelector(\r\n\t\t(state) => state.productCreateReview\r\n\t)\r\n\tconst { userInfo } = useSelector((state) => state.userLogin)\r\n\r\n\tuseEffect(() => {\r\n\t\tif(successReview) {\r\n\t\t\talert('Review submitted')\r\n\t\t\tsetRating(0)\r\n\t\t\tsetComment('')\r\n\t\t\tdispatch({ type: PRODUCT_CREATE_REVIEW_RESET })\r\n\t\t}\r\n\t\tdispatch(listProductDetails(match.params.id))\r\n\t}, [dispatch, match, successReview])\r\n\r\n\tconst addToCartHandler = () => {\r\n\t\thistory.push(`/cart/${match.params.id}?qty=${qty}`)\r\n\t}\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(createReview(match.params.id, {\r\n\t\t\trating,\r\n\t\t\tcomment\r\n\t\t}))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link className=\"btn btn-light my-3\" to=\"/\">\r\n\t\t\t\tGo Back\r\n\t\t\t</Link>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Meta title={product.name} />\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<Image src={product.image} alt={product.name} fluid />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>{product.name}</h2>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<Rating\r\n\t\t\t\t\t\t\t\t\t\tvalue={product.rating}\r\n\t\t\t\t\t\t\t\t\t\ttext={`${product.numReviews} reviews`}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>Description: ${product.description}</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Price:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{product.price}</strong>\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>Status:</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{product.countInStock > 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'In Stock'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Out of Stock'}\r\n\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t\t\t\t{product.countInStock > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>Qty</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={qty}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setQty(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...Array(product.countInStock).keys(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t].map((x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tmargin: 'auto',\r\n\t\t\t\t\t\t\t\t\t\t\twidth: '80%',\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-block\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={addToCartHandler}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={product.countInStock === 0}>\r\n\t\t\t\t\t\t\t\t\t\t\tAdd to Cart\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col md={6}>\r\n\t\t\t\t\t\t\t<h2>Reviews</h2>\r\n\t\t\t\t\t\t\t{product.reviews.length === 0 && <Message>No Reviews</Message>}\r\n\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t{product?.reviews.map((review) => (\r\n\t\t\t\t\t\t\t\t\t<ListGroup.Item key={review._id}>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{review.name}</strong>\r\n\t\t\t\t\t\t\t\t\t\t<Rating value={review.rating} />\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.createdAt.substring(0, 10)}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>{review.comment}</p>\r\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t<h2>Write a customer review</h2>\r\n\t\t\t\t\t\t\t\t\t{errorReview && <Message variant='danger'>{errorReview}</Message>}\r\n\t\t\t\t\t\t\t\t\t{userInfo ? (\r\n\t\t\t\t\t\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"rating\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Rating</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setRating(e.target.value)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"\">Select...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"1\">1 - Poor</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"2\">2 - Fair</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"3\">3 - Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"4\">4 - Very Good</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option value=\"5\">5 - Excellent</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"comment\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>Comment</Form.Label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trow={3}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={comment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetComment(e.target.value)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button type='submit' variant='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Message>\r\n\t\t\t\t\t\t\t\t\t\t\tPlease <Link to=\"/login\">sign in</Link> to write a\r\n\t\t\t\t\t\t\t\t\t\t\treview\r\n\t\t\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProductScreen\r\n","import axios from \"axios\";\r\nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from '../constants/cartConstants'\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n    const { data: { product } } = await axios.get(`/api/products/${id}`)\r\n    console.log(product)\r\n\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            product: id,\r\n            name: product?.name,\r\n            image: product?.image,\r\n            price: product?.price,\r\n            countInStock: product?.countInStock,\r\n            qty\r\n        }\r\n    })\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\n\r\nexport const removeFromCart = (id) => async (dispatch, getState) => {\r\n    dispatch({\r\n        type: CART_REMOVE_ITEM,\r\n        payload: id\r\n    })\r\n\r\n\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\n\r\nexport const saveShippingAddress = (data) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_SHIPPING_ADDRESS,\r\n\t\tpayload: data,\r\n\t})\r\n\r\n\tlocalStorage.setItem('shippingAddress', JSON.stringify(data))\r\n}\r\n\r\nexport const savePaymentMethod = (data) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: CART_SAVE_PAYMENT_METHOD,\r\n\t\tpayload: data,\r\n\t})\r\n\r\n\tlocalStorage.setItem('paymentMethod', JSON.stringify(data))\r\n}","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap'\r\nimport { addToCart, removeFromCart } from '../actions/cartAction'\r\nimport Message from '../components/Message'\r\n\r\nconst CartScreen = ({ match, location, history }) => {\r\n\tconst productId = match.params.id\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst cart = useSelector((state) => state.cart)\r\n\tconst { cartItems } = cart\r\n\r\n\tuseEffect(() => {\r\n\t\tif (productId) {\r\n\t\t\tdispatch(addToCart(productId, qty))\r\n\t\t}\r\n\t}, [dispatch, productId, qty])\r\n\r\n\tconst removeFromCartHandler = (id) => {\r\n\t\tdispatch(removeFromCart(id))\r\n\t}\r\n\tconst checkoutHandler = () => {\r\n        history.push('/login?redirect=shipping')\r\n    }\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<Message>\r\n\t\t\t\t\t\tYour Cart is empty <Link to=\"/\">Go Back</Link>{' '}\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t{cartItems.map((item) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\trounded></Image>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>${item.price}</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\t\t\t\tas=\"select\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taddToCart(item.product, Number(e.target.value))\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t{[...Array(item.countInStock).keys()].map((x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Control>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => removeFromCartHandler(item.product)}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t\t<Col md={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\tSubtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)})\r\n\t\t\t\t\t\t\t\titems\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t$\r\n\t\t\t\t\t\t\t{cartItems\r\n\t\t\t\t\t\t\t\t.reduce((acc, item) => acc + item.qty * item.price, 0)\r\n\t\t\t\t\t\t\t\t.toFixed(2)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t<ListGroup.Item style={{\r\n                            margin: 'auto'\r\n                        }}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn-block\"\r\n                                onClick={checkoutHandler}\r\n\t\t\t\t\t\t\t\tdisabled={cartItems.length === 0}>\r\n                                    Proceed To Checkout\r\n                                </Button>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t)\r\n}\r\n\r\nexport default CartScreen\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst FormContainer = ({ children }) => {\r\n    return (\r\n        <Container>\r\n            <Row className='justify-content-md-center'>\r\n                <Col xs={12} md={6}>\r\n                    {children}\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default FormContainer\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { login } from '../actions/userActions'\r\n\r\nconst LoginScreen = ({ location, history }) => {\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\r\n    const dispatch = useDispatch()\r\n    const userLogin = useSelector(state => state.userLogin)\r\n\r\n    const { loading, error, userInfo } = userLogin\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    useEffect(() => {\r\n        if(userInfo) {\r\n            history.push(redirect)\r\n        }\r\n    }, [redirect, userInfo, history])\r\n\r\n\tconst submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(login(email, password))\r\n    }\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign In</h1>\r\n            {error && <Message variant='danger'>{error}</Message>}\r\n            {loading && <Loader/>}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Enter password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\tSign In\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\r\n\t\t\t<Row className=\"py-3\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tNew Customer?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>\r\n\t\t\t\t\t\tRegister\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default LoginScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { register } from '../actions/userActions'\r\n\r\nconst RegisterScreen = ({ location, history }) => {\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [confirmPassword, setConfirmPassword] = useState('')\r\n\tconst [message, setMessage] = useState(null)\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst userLogin = useSelector((state) => state.userLogin)\r\n\r\n\tconst { loading, error, userInfo } = userLogin\r\n\r\n\tconst redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo) {\r\n\t\t\thistory.push(redirect)\r\n\t\t}\r\n\t}, [redirect, userInfo, history])\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n        if(password !== confirmPassword) {\r\n            setMessage('Passwords do not match')\r\n        } else {\r\n            dispatch(register(name, email, password))\r\n        }\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<h1>Sign Up</h1>\r\n\t\t\t{message && <Message variant=\"danger\">{message}</Message>}\r\n\t\t\t{error && <Message variant=\"danger\">{error}</Message>}\r\n\t\t\t{loading && <Loader />}\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Enter password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"confirmPassword\">\r\n\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tplaceholder=\"Confirm password\"\r\n\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\r\n\t\t\t<Row className=\"py-3\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\tHave an account?{' '}\r\n\t\t\t\t\t<Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default RegisterScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Form, Button, Row, Col, Table } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { getUserDetails, updateUserProfile } from '../actions/userActions'\r\nimport { myOrderList } from '../actions/orderActions'\r\n\r\nconst ProfileScreen = ({ location, history }) => {\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [confirmPassword, setConfirmPassword] = useState('')\r\n\tconst [message, setMessage] = useState(null)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { loading, error, user } = useSelector((state) => state.userDetails)\r\n\r\n    const { userInfo } = useSelector((state) => state.userLogin)\r\n\r\n    const { success } = useSelector((state) => state.userUpdateProfile)\r\n\r\n\tconst { loading: loadingOrders, error: errorOrders, orders } = useSelector((state) => state.orderList)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userInfo) {\r\n\t\t\thistory.push('/login')\r\n\t\t} else {\r\n\t\t\tif (!user.name) {\r\n\t\t\t\tdispatch(getUserDetails('profile'))\r\n\t\t\t\tdispatch(myOrderList())\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name)\r\n\t\t\t\tsetEmail(user.email)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, userInfo, history, user])\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tif (password !== confirmPassword) {\r\n\t\t\tsetMessage('Passwords do not match')\r\n\t\t} else {\r\n\t\t\tdispatch(updateUserProfile({ id: user._id, name, email, password }))\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={3}>\r\n\t\t\t\t<h2>User Profile</h2>\r\n\t\t\t\t{message && <Message variant=\"danger\">{message}</Message>}\r\n\t\t\t\t{error && <Message variant=\"danger\">{error}</Message>}\r\n\t\t\t\t{success && <Message variant=\"success\">Profile Updated</Message>}\r\n\t\t\t\t{loading && <Loader />}\r\n\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"password\">\r\n\t\t\t\t\t\t<Form.Label>Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter password\"\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t<Form.Group controlId=\"confirmPassword\">\r\n\t\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Confirm password\"\r\n\t\t\t\t\t\t\tvalue={confirmPassword}\r\n\t\t\t\t\t\t\tonChange={(e) => setConfirmPassword(e.target.value)}></Form.Control>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\t\tUpdate\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Col>\r\n\t\t\t<Col md={9}>\r\n\t\t\t\t<h2>My Orders</h2>\r\n\t\t\t\t{loadingOrders ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : errorOrders ? (\r\n\t\t\t\t\t<Message variant=\"danger\">{errorOrders}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Table striped bordered hover responsive className=\"table-sm\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{ console.log(orders) }\r\n\t\t\t\t\t\t\t{orders && orders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.totalPrice}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fas fa-times\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: 'red' }}></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"btn-sm\" variant=\"light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t)\r\n}\r\n\r\nexport default ProfileScreen\r\n","import {\r\n\tORDER_ALL_LIST_FAIL,\r\n\tORDER_ALL_LIST_REQUEST,\r\n\tORDER_ALL_LIST_SUCCESS,\r\n\tORDER_CREATE_FAIL,\r\n\tORDER_CREATE_REQUEST,\r\n\tORDER_CREATE_SUCCESS,\r\n\tORDER_DELIVER_FAIL,\r\n\tORDER_DELIVER_REQUEST,\r\n\tORDER_DELIVER_SUCCESS,\r\n\tORDER_DETAILS_FAIL,\r\n\tORDER_DETAILS_REQUEST,\r\n\tORDER_DETAILS_SUCCESS,\r\n\tORDER_LIST_FAIL,\r\n\tORDER_LIST_REQUEST,\r\n\tORDER_LIST_SUCCESS,\r\n\tORDER_PAY_FAIL,\r\n\tORDER_PAY_REQUEST,\r\n\tORDER_PAY_SUCCESS,\r\n} from '../constants/orderConstants'\r\nimport axios from 'axios'\r\n\r\nexport const createOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.post(`/api/orders`, order, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_CREATE_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const getOrderDetails = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/${id}`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DETAILS_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const payOrder = (orderId, paymentResult) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.patch(`/api/orders/${orderId}/pay`, paymentResult, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_PAY_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const deliverOrder = (order) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.patch(`/api/orders/${order._id}/deliver`, {}, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_DELIVER_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const myOrderList = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders/myorders`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport const allOrderList = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_ALL_LIST_REQUEST,\r\n\t\t})\r\n\r\n\t\tconst {\r\n\t\t\tuserLogin: { userInfo },\r\n\t\t} = getState()\r\n\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `jwt ${userInfo.token}`,\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t\tconst { data } = await axios.get(`/api/orders`, config)\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_ALL_LIST_SUCCESS,\r\n\t\t\tpayload: data,\r\n\t\t})\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t\tdispatch({\r\n\t\t\ttype: ORDER_ALL_LIST_FAIL,\r\n\t\t\tpayload:\r\n\t\t\t\terror.response && error.response.data.error\r\n\t\t\t\t\t? error.response.data.error\r\n\t\t\t\t\t: error.message,\r\n\t\t})\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { Nav } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n    return (\r\n\t\t<Nav className=\"justify-content-center mb-4\">\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step1 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/login\">\r\n\t\t\t\t\t\t<Nav.Link>Sign In</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Sign In</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step2 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/shipping\">\r\n\t\t\t\t\t\t<Nav.Link>Shipping</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Shipping</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step3 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/payment\">\r\n\t\t\t\t\t\t<Nav.Link>Payment</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Payment</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\r\n\t\t\t<Nav.Item>\r\n\t\t\t\t{step4 ? (\r\n\t\t\t\t\t<LinkContainer to=\"/placeorder\">\r\n\t\t\t\t\t\t<Nav.Link>Place Order</Nav.Link>\r\n\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Nav.Link disabled>Place Order</Nav.Link>\r\n\t\t\t\t)}\r\n\t\t\t</Nav.Item>\r\n\t\t</Nav>\r\n\t)\r\n}\r\n\r\nexport default CheckoutSteps\r\n","import React, { useState } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { saveShippingAddress } from '../actions/cartAction'\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n\r\n    const cart = useSelector(state => state.cart)\r\n    const { shippingAddress } = cart\r\n\r\n    const [address, setAddress] = useState(shippingAddress.address)\r\n    const [city, setCity] = useState(shippingAddress.city)\r\n    const [postalCode, setPostalCode] = useState(shippingAddress.postalCode)\r\n    const [country, setCountry] = useState(shippingAddress.country)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        dispatch(saveShippingAddress({ address, city, postalCode, country }))\r\n        history.push('/payment')\r\n    }\r\n\r\n    return (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 />\r\n\t\t\t<h1>Shipping</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group controlId=\"address\">\r\n\t\t\t\t\t<Form.Label>Address</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter address\"\r\n\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setAddress(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"city\">\r\n\t\t\t\t\t<Form.Label>City</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter city\"\r\n\t\t\t\t\t\tvalue={city}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCity(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"postalCode\">\r\n\t\t\t\t\t<Form.Label>PostalCode</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter postalCode\"\r\n\t\t\t\t\t\tvalue={postalCode}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setPostalCode(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Form.Group controlId=\"country\">\r\n\t\t\t\t\t<Form.Label>Country</Form.Label>\r\n\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Enter country\"\r\n\t\t\t\t\t\tvalue={country}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tonChange={(e) => setCountry(e.target.value)}></Form.Control>\r\n\t\t\t\t</Form.Group>\r\n\r\n                <Button type='submit' variant='primary'>\r\n                    Continue\r\n                </Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default ShippingScreen\r\n","import React, { useState } from 'react'\r\nimport { Form, Button, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport FormContainer from '../components/FormContainer'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { savePaymentMethod } from '../actions/cartAction'\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n\tconst cart = useSelector((state) => state.cart)\r\n\tconst { shippingAddress } = cart\r\n\r\n\tshippingAddress || history.push('/shipping')\r\n\r\n\tconst [paymentMethod, setPaymentMethod] = useState('PayPal')\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(savePaymentMethod(paymentMethod))\r\n\t\thistory.push('/placeorder')\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FormContainer>\r\n\t\t\t<CheckoutSteps step1 step2 step3 />\r\n\t\t\t<h1>Payment Method</h1>\r\n\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t<Form.Group>\r\n\t\t\t\t\t<Form.Label as=\"legend\">Select Method</Form.Label>\r\n\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\tlabel=\"PayPal or Credit Card\"\r\n\t\t\t\t\t\t\tid=\"PayPal\"\r\n\t\t\t\t\t\t\tname=\"paymentMethod\"\r\n\t\t\t\t\t\t\tvalue=\"PayPal\"\r\n\t\t\t\t\t\t\tchecked\r\n\t\t\t\t\t\t\tonChange={(e) => setPaymentMethod(e.target.value)}></Form.Check>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\tContinue\r\n\t\t\t\t</Button>\r\n\t\t\t</Form>\r\n\t\t</FormContainer>\r\n\t)\r\n}\r\n\r\nexport default PaymentScreen\r\n","import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\nimport { createOrder } from '../actions/orderActions'\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst cart = useSelector((state) => state.cart)\r\n\tconst {\r\n\t\tcartItems,\r\n\t\tshippingAddress,\r\n\t\tshippingAddress: { address, city, postalCode, country },\r\n\t\tpaymentMethod,\r\n\t} = cart\r\n\r\n\tconst addDecimals = (num) => (Math.round(num * 100) / 100).toFixed(2)\r\n\r\n\t// calculate prices\r\n\tcart.itemsPrice = addDecimals(cartItems.reduce((sum, item) => sum + item.price * item.qty, 0))\r\n\tcart.shippingPrice = addDecimals(cart.itemsPrice > 100 ? 0 : 10)\r\n\tcart.taxPrice = addDecimals(Number((0.15 * cart.itemsPrice).toFixed(2)))\r\n\tcart.totalPrice = (\r\n\t\tNumber(cart.itemsPrice) + \r\n        Number(cart.shippingPrice) + \r\n        Number(cart.taxPrice)\r\n\t).toFixed(2)\r\n\r\n\tconst orderCreate = useSelector(state => state.orderCreate)\r\n\tconst { order, success, error } = orderCreate\r\n\r\n\tuseEffect(() => {\r\n\t\tif(success) {\r\n\t\t\thistory.push(`/order/${order._id}`)\r\n\t\t}\r\n\t}, [history, success, order])\r\n\r\n\tconst placeorderHandler = (e) => {\r\n\t\tdispatch(createOrder({\t\r\n\t\t\torderItems: cartItems,\r\n\t\t\tshippingAddress,\r\n\t\t\tpaymentMethod,\r\n\t\t\titemsPrice: cart.itemsPrice,\r\n\t\t\tshippingPrice: cart.shippingPrice,\r\n\t\t\ttaxPrice: cart.taxPrice,\r\n\t\t\ttotalPrice: cart.totalPrice\r\n\t\t}))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<CheckoutSteps step1 step2 step3 step4 />\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{address}, {city}, {postalCode}, {country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Ordered Items</h2>\r\n\t\t\t\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Your cart is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t\t{cartItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x ${item.price} = $\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${cart.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{error && <ListGroup.Item><Message>{error}</Message></ListGroup.Item>}\r\n\t\t\t\t\t\t\t<ListGroup.Item\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tmargin: 'auto',\r\n\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn-block\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tdisabled={cartItems.length === 0}\r\n\t\t\t\t\t\t\t\t\tonClick={placeorderHandler}>\r\n\t\t\t\t\t\t\t\t\tPlace Order\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default PlaceOrderScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\nimport { PayPalButton } from 'react-paypal-button-v2'\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { deliverOrder, getOrderDetails, payOrder } from '../actions/orderActions'\r\nimport { ORDER_DELIVER_RESET, ORDER_PAY_RESET } from '../constants/orderConstants'\r\n\r\nconst OrderScreen = ({ match, history }) => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst orderId = match.params.id\r\n\r\n\tconst [sdkReady, setSdkReady] = useState(false)\r\n\r\n\tconst { loading, order, error } = useSelector((state) => state.orderDetails)\r\n\tconst { loading: loadingPay, success: successPay } = useSelector((state) => state.orderPay)\r\n\tconst { loading: loadingDeliver, success: successDeliver } = useSelector((state) => state.orderDeliver)\r\n\tconst { userInfo } = useSelector((state) => state.userLogin)\r\n\r\n\tif (!loading) {\r\n\t\tconst addDecimals = (num) => (Math.round(num * 100) / 100).toFixed(2)\r\n\t\torder.itemsPrice = addDecimals(\r\n\t\t\torder.orderItems.reduce((sum, item) => sum + item.price * item.qty, 0)\r\n\t\t)\r\n\t\torder.taxPrice = addDecimals(order.taxPrice)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst addPayPalScript = async () => {\r\n\t\t\tconst { data: clientId } = await axios.get('/api/config/paypal')\r\n\t\t\tconst script = document.createElement('script')\r\n\t\t\tscript.type = 'text/javascript'\r\n\t\t\tscript.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\r\n\t\t\tscript.async = true\r\n\t\t\tscript.onload = () => {\r\n\t\t\t\tsetSdkReady(true)\r\n\t\t\t}\r\n\t\t\tdocument.body.appendChild(script)\r\n\t\t}\r\n\r\n\t\tif(!userInfo) {\r\n\t\t\thistory.replace('/')\r\n\t\t}else if(!order || order._id !== orderId || successPay || successDeliver) {\r\n\t\t\tdispatch({ type: ORDER_PAY_RESET })\r\n\t\t\tdispatch({ type: ORDER_DELIVER_RESET })\r\n            dispatch(getOrderDetails(orderId))\r\n        } else if(!order.isPaid) {\r\n\t\t\tif(!window.paypal) {\r\n\t\t\t\taddPayPalScript()\r\n\t\t\t} else {\r\n\t\t\t\tsetSdkReady(true)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [dispatch, orderId, order, successPay, userInfo, history, successDeliver])\r\n\r\n\tconst successPaymentHandler = (paymentResult) => {\r\n\t\tdispatch(payOrder(orderId, paymentResult))\r\n\t}\r\n\r\n\tconst successDeliverHandler = (order) => {\r\n\t\tdispatch(deliverOrder(order))\r\n\t}\r\n\r\n\treturn loading ? (\r\n\t\t<Loader />\r\n\t) : error ? (\r\n\t\t<Message variant=\"danger\">{error}</Message>\r\n\t) : (\r\n\t\t<>\r\n\t\t\t<h1>Order {orderId}</h1>\r\n\t\t\t<Row>\r\n\t\t\t\t<Col md={8}>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Shipping</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Name: </strong> {order.user.name}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Email: </strong>\r\n\t\t\t\t\t\t\t\t<a href={`mailto:${order.user.email}`}>{order.user.email}</a>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Address: </strong>\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.address}, {order.shippingAddress.city},{' '}\r\n\t\t\t\t\t\t\t\t{order.shippingAddress.postalCode}, {order.shippingAddress.country}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"success\">\r\n\t\t\t\t\t\t\t\t\tDelivered on {order.deliveredAt}\r\n\t\t\t\t\t\t\t\t</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant=\"danger\">Not Delivered</Message>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Payment Method</h2>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t<strong>Method: </strong>\r\n\t\t\t\t\t\t\t\t{order.paymentMethod}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t<Message variant=\"success\">Paid on {order.paidAt}</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<Message variant=\"danger\">Not paid</Message>\r\n\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>Ordered Items</h2>\r\n\t\t\t\t\t\t\t{order.orderItems.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Message>Order is empty</Message>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t\t\t{order.orderItems.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<ListGroup.Item key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Image\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={item.image}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trounded\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link to={`/product/${item.product}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty} x ${item.price} = $\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.qty * item.price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Col>\r\n\r\n\t\t\t\t<Col md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<h2>Order Summary</h2>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Items</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.itemsPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Shipping</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.shippingPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Tax</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.taxPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col>Total</Col>\r\n\t\t\t\t\t\t\t\t\t<Col>${order.totalPrice}</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t{!order.isPaid && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t\t\t{console.log(order)}\r\n\t\t\t\t\t\t\t\t\t{loadingPay && <Loader />}\r\n\t\t\t\t\t\t\t\t\t{!sdkReady ? (\r\n\t\t\t\t\t\t\t\t\t\t<Loader />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<PayPalButton\r\n\t\t\t\t\t\t\t\t\t\t\tamount={order.totalPrice}\r\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={successPaymentHandler}></PayPalButton>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{loadingDeliver && <Loader/>}\r\n\t\t\t\t\t\t\t{userInfo?.isAdmin && order.isPaid && !order.isDelivered && (\r\n\t\t\t\t\t\t\t\t<ListGroup.Item style={{\r\n\t\t\t\t\t\t\t\t\twidth: '100%'\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-block\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => successDeliverHandler(order)}>\r\n\t\t\t\t\t\t\t\t\t\tMark as Delivered\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ListGroup>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default OrderScreen\r\n","import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { deleteUser, listUsers } from '../actions/userActions'\r\n\r\nconst UserListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { loading, users, error } = useSelector((state) => state.userList)\r\n\tconst { userInfo } = useSelector((state) => state.userLogin)\r\n\tconst { success: successDelete } = useSelector((state) => state.userDelete)\r\n\r\n\tuseEffect(() => {\r\n        if(userInfo && userInfo.isAdmin) {\r\n            dispatch(listUsers())\r\n        } else {\r\n            history.replace('/')\r\n        }\r\n\t}, [dispatch, userInfo, history, successDelete])\r\n\r\n\tconst deleteUserHandler = (id) => {\r\n\t\tif(window.confirm('Are you sure')) {\r\n\t\t\tdispatch(deleteUser(id))\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className=\"table-sm\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t<th>EMAIL</th>\r\n\t\t\t\t\t\t\t<th>ADMIN</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{users && users.map((user) => (\r\n\t\t\t\t\t\t\t<tr key={user._id}>\r\n\t\t\t\t\t\t\t\t<td>{user._id}</td>\r\n\t\t\t\t\t\t\t\t<td>{user.name}</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<a href={`mailto:${user.email}`}>{user.email}</a>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t{user.isAdmin ? (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-check\" style={{ color: 'green' }} />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\" style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<LinkContainer to={`/admin/user/${user._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\" />\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => deleteUserHandler(user._id)}>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\" />\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default UserListScreen\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { getUserDetails, updateUser } from '../actions/userActions'\r\nimport { USER_UPDATE_RESET } from '../constants/userConstants'\r\n\r\nconst UserEditScreen = ({ match, history }) => {\r\n\r\n    const userId = match.params.id\r\n\r\n\tconst [name, setName] = useState('')\r\n\tconst [email, setEmail] = useState('')\r\n\tconst [isAdmin, setIsAdmin] = useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst { loading, error, user } = useSelector((state) => state.userDetails)\r\n\tconst { loading: loadingUpdate, error: errorUpdate, success: successUpdate } = useSelector((state) => state.userUpdate)\r\n\r\n\tuseEffect(() => {\r\n        if(successUpdate) {\r\n            dispatch({ type: USER_UPDATE_RESET })\r\n            history.push('/admin/userlist')\r\n        } else {\r\n            if (!user.name || user._id !== userId) {\r\n\t\t\t\tdispatch(getUserDetails(userId))\r\n\t\t\t} else {\r\n\t\t\t\tsetName(user.name)\r\n\t\t\t\tsetEmail(user.email)\r\n\t\t\t\tsetIsAdmin(user.isAdmin)\r\n\t\t\t}\r\n        }\r\n\t\t\r\n\t}, [user, userId, dispatch, successUpdate, history])\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n        dispatch(updateUser({\r\n            _id: userId,\r\n            name,\r\n            email,\r\n            isAdmin\r\n        }))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to=\"/admin/userlist\" className=\"btn btn-light my-3\">\r\n\t\t\t\tGo back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit User</h1>\r\n                {loadingUpdate && <Loader/>}\r\n                {errorUpdate && <Message variant='danger'>{errorUpdate}</Message>}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"email\">\r\n\t\t\t\t\t\t\t<Form.Label>Email Address</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter email\"\r\n\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"isadmin\">\r\n\t\t\t\t\t\t\t<Form.Check\r\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\tlabel=\"Is Admin\"\r\n                                checked={isAdmin}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setIsAdmin(e.target.checked)}></Form.Check>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\t\t\tupdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default UserEditScreen\r\n","import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Table, Button, Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { createProduct, deleteProduct, listProducts } from '../actions/productActions'\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants'\r\nimport Paginate from '../components/Paginate'\r\n\r\nconst ProductListScreen = ({ match, history }) => {\r\n\r\n\tconst pageNumber = match.params.pageNumber || 1\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { loading, products, page, pages, error } = useSelector((state) => state.productList)\r\n\tconst {\r\n\t\tloading: loadingDelete,\r\n\t\tsuccess: successDelete,\r\n\t\terror: errorDelete,\r\n\t} = useSelector((state) => state.productDelete)\r\n\tconst {\r\n\t\tloading: loadingCreate,\r\n\t\tsuccess: successCreate,\r\n\t\tproduct: createdProduct,\r\n\t\terror: errorCreate,\r\n\t} = useSelector((state) => state.productCreate)\r\n\tconst { userInfo } = useSelector((state) => state.userLogin)\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({ type: PRODUCT_CREATE_RESET })\r\n\t\tif (!userInfo.isAdmin) {\r\n\t\t\thistory.replace('/')\r\n\t\t}\r\n\r\n\t\tif (successCreate) {\r\n\t\t\thistory.push(`/admin/product/${createdProduct._id}/edit`)\r\n\t\t} else {\r\n\t\t\tdispatch(listProducts('', pageNumber))\r\n\t\t}\r\n\t}, [dispatch, userInfo, history, successDelete, successCreate, createdProduct, pageNumber])\r\n\r\n\tconst deleteProductHandler = (id) => {\r\n\t\tif (window.confirm('Are you sure')) {\r\n\t\t\tdispatch(deleteProduct(id))\r\n\t\t}\r\n\t}\r\n\r\n\tconst createProductHandler = () => {\r\n\t\tdispatch(createProduct())\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Row className=\"align-items-center\">\r\n\t\t\t\t<Col>\r\n\t\t\t\t\t<h1>Products</h1>\r\n\t\t\t\t</Col>\r\n\t\t\t\t<Col className=\"text-right\">\r\n\t\t\t\t\t<Button className=\"my-3\" onClick={createProductHandler}>\r\n\t\t\t\t\t\t<i className=\"fas fa-plus\" /> Create Product\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t\t<h1>Users</h1>\r\n\t\t\t{loadingDelete && <Loader />}\r\n\t\t\t{errorDelete && <Message variant=\"danger\">{errorDelete}</Message>}\r\n\t\t\t{loadingCreate && <Loader />}\r\n\t\t\t{errorCreate && <Message variant=\"danger\">{errorCreate}</Message>}\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Table striped bordered hover responsive className=\"table-sm\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t\t<th>NAME</th>\r\n\t\t\t\t\t\t\t\t<th>PRICE</th>\r\n\t\t\t\t\t\t\t\t<th>CATEGORY</th>\r\n\t\t\t\t\t\t\t\t<th>BRAND</th>\r\n\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{products &&\r\n\t\t\t\t\t\t\t\tproducts.map((product) => (\r\n\t\t\t\t\t\t\t\t\t<tr key={product._id}>\r\n\t\t\t\t\t\t\t\t\t\t<td>{product._id}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{product.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>${product.price}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{product.category}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{product.brand}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<LinkContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/admin/product/${product._id}/edit`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-edit\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => deleteProductHandler(product._id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<Paginate page={page} pages={pages} isAdmin={true} />\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProductListScreen\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { listProductDetails, updateProduct } from '../actions/productActions'\r\nimport { PRODUCT_UPDATE_RESET } from '../constants/productConstants'\r\nimport axios from 'axios'\r\n\r\nconst ProductEditScreen = ({ match, history }) => {\r\n\tconst firstUpdate = useRef(true)\r\n\r\n\tconst productId = match.params.id\r\n\r\n\tconst [name, setName] = useState('')\r\n\tconst [price, setPrice] = useState(0)\r\n\tconst [brand, setBrand] = useState('')\r\n\tconst [category, setCategory] = useState('')\r\n\tconst [image, setImage] = useState('')\r\n\tconst [countInStock, setCountInStock] = useState('')\r\n\tconst [description, setDescription] = useState('')\r\n\tconst [uploading, setUploading] = useState(false)\r\n\r\n\tconst dispatch = useDispatch()\r\n\tconst { loading, error, product } = useSelector((state) => state.productDetails)\r\n\tconst {\r\n\t\tloading: loadingUpdate,\r\n\t\terror: errorUpdate,\r\n\t\tsuccess: successUpdate,\r\n\t} = useSelector((state) => state.productUpdate)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (successUpdate) {\r\n\t\t\tdispatch({ type: PRODUCT_UPDATE_RESET })\r\n\t\t\thistory.push('/admin/productlist')\r\n\t\t} else {\r\n\t\t\tif (!product.name || product._id !== productId || firstUpdate.current) {\r\n\t\t\t\tdispatch(listProductDetails(productId))\r\n\t\t\t\tfirstUpdate.current = false\r\n\t\t\t} else {\r\n\t\t\t\tsetName(product.name)\r\n\t\t\t\tsetPrice(product.price)\r\n\t\t\t\tsetBrand(product.brand)\r\n\t\t\t\tsetImage(product.image)\r\n\t\t\t\tsetCategory(product.category)\r\n\t\t\t\tsetCountInStock(product.countInStock)\r\n\t\t\t\tsetDescription(product.description)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [productId, dispatch, product, successUpdate, history])\r\n\r\n\tconst submitHandler = (e) => {\r\n\t\te.preventDefault()\r\n\t\tdispatch(\r\n\t\t\tupdateProduct({\r\n\t\t\t\t_id: productId,\r\n\t\t\t\tname,\r\n\t\t\t\tbrand,\r\n\t\t\t\tcategory,\r\n\t\t\t\timage,\r\n\t\t\t\tdescription,\r\n\t\t\t\tcountInStock,\r\n\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tconst uploadFileHandler = async (e) => {\r\n\t\tconst file = e.target.files[0]\r\n\t\tconst formdata = new FormData()\r\n\t\tformdata.append('image', file)\r\n\t\tsetUploading(true)\r\n\r\n\t\ttry {\r\n\t\t\tconst config = {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst { data } = await axios.post(`/api/upload`, formdata, config)\r\n\r\n\t\t\tsetImage(data)\r\n\t\t\tsetUploading(false)\r\n\t\t} catch (error) {\r\n\t\t\tsetUploading(false)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Link to=\"/admin/productlist\" className=\"btn btn-light my-3\">\r\n\t\t\t\tGo back\r\n\t\t\t</Link>\r\n\t\t\t<FormContainer>\r\n\t\t\t\t<h1>Edit Product</h1>\r\n\t\t\t\t{loadingUpdate && <Loader />}\r\n\t\t\t\t{errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<Loader />\r\n\t\t\t\t) : error ? (\r\n\t\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Form onSubmit={submitHandler}>\r\n\t\t\t\t\t\t<Form.Group controlId=\"name\">\r\n\t\t\t\t\t\t\t<Form.Label>Name</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"name\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter name\"\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"price\">\r\n\t\t\t\t\t\t\t<Form.Label>Price</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter price\"\r\n\t\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setPrice(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"image\">\r\n\t\t\t\t\t\t\t<Form.Label>Image</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter image\"\r\n\t\t\t\t\t\t\t\tvalue={image}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setImage(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t\t<Form.File\r\n\t\t\t\t\t\t\t\tid=\"image-file\"\r\n\t\t\t\t\t\t\t\tlabel=\"Choose file\"\r\n\t\t\t\t\t\t\t\tcustom\r\n\t\t\t\t\t\t\t\tonChange={uploadFileHandler}></Form.File>\r\n\t\t\t\t\t\t\t{uploading && <Loader/>}\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"brand\">\r\n\t\t\t\t\t\t\t<Form.Label>Brand</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter brand\"\r\n\t\t\t\t\t\t\t\tvalue={brand}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setBrand(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"category\">\r\n\t\t\t\t\t\t\t<Form.Label>Category</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter category\"\r\n\t\t\t\t\t\t\t\tvalue={category}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCategory(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"countInStock\">\r\n\t\t\t\t\t\t\t<Form.Label>countInStock</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter countInStock\"\r\n\t\t\t\t\t\t\t\tvalue={countInStock}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setCountInStock(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Form.Group controlId=\"description\">\r\n\t\t\t\t\t\t\t<Form.Label>Description</Form.Label>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter description\"\r\n\t\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}></Form.Control>\r\n\t\t\t\t\t\t</Form.Group>\r\n\r\n\t\t\t\t\t\t<Button type=\"submit\" variant=\"primary\">\r\n\t\t\t\t\t\t\tupdate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t)}\r\n\t\t\t</FormContainer>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default ProductEditScreen\r\n","import React, { useEffect } from 'react'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\nimport { Table, Button } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport { allOrderList } from '../actions/orderActions'\r\n\r\nconst OrderListScreen = ({ history }) => {\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst { loading, orders, error } = useSelector((state) => state.orderListAll)\r\n\tconst { userInfo } = useSelector((state) => state.userLogin)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userInfo && userInfo.isAdmin) {\r\n\t\t\tdispatch(allOrderList())\r\n\t\t} else {\r\n\t\t\thistory.replace('/')\r\n\t\t}\r\n\t}, [dispatch, userInfo, history])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Orders</h1>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<Loader />\r\n\t\t\t) : error ? (\r\n\t\t\t\t<Message variant=\"danger\">{error}</Message>\r\n\t\t\t) : (\r\n\t\t\t\t<Table striped bordered hover responsive className=\"table-sm\">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>USER</th>\r\n\t\t\t\t\t\t\t<th>DATE</th>\r\n\t\t\t\t\t\t\t<th>TOTAL</th>\r\n\t\t\t\t\t\t\t<th>PAID</th>\r\n\t\t\t\t\t\t\t<th>DELIVERED</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{orders &&\r\n\t\t\t\t\t\t\torders.map((order) => (\r\n\t\t\t\t\t\t\t\t<tr key={order._id}>\r\n\t\t\t\t\t\t\t\t\t<td>{order._id}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.user?.name}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>{order.createdAt.substring(0, 10)}</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isPaid ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.paidAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\" style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t{order.isDelivered ? (\r\n\t\t\t\t\t\t\t\t\t\t\torder.deliveredAt.substring(0, 10)\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-times\" style={{ color: 'red' }} />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<LinkContainer to={`/order/${order._id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"light\" className=\"btn-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tDetails\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</LinkContainer>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</Table>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default OrderListScreen\r\n","import React from 'react'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\nimport { Container } from 'react-bootstrap'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport HomeScreen from './screens/HomeScreen'\nimport ProductScreen from './screens/ProductScreen'\nimport CartScreen from './screens/CartScreen'\nimport LoginScreen from './screens/LoginScreen'\nimport RegisterScreen from './screens/RegisterScreen'\nimport ProfileScreen from './screens/ProfileScreen'\nimport ShippingScreen from './screens/ShippingScreen'\nimport PaymentScreen from './screens/PaymentScreen'\nimport PlaceOrderScreen from './screens/PlaceOrderScreen'\nimport OrderScreen from './screens/OrderScreen'\nimport UserListScreen from './screens/UserListScreen'\nimport UserEditScreen from './screens/UserEditScreen'\nimport ProductListScreen from './screens/ProductListScreen'\nimport ProductEditScreen from './screens/ProductEditScreen'\nimport OrderListScreen from './screens/OrderListScreen'\n\nconst App = () => {\n\treturn (\n\t\t<Router>\n\t\t\t<Header />\n\t\t\t<main className=\"py-3\">\n\t\t\t\t<Container>\n\t\t\t\t\t<Route path=\"/\" component={HomeScreen} exact />\n\t\t\t\t\t<Route path=\"/search/:keyword\" component={HomeScreen} exact />\n\t\t\t\t\t<Route path=\"/page/:pageNumber\" component={HomeScreen} exact />\n\t\t\t\t\t<Route path=\"/search/:keyword/page/:pageNumber\" component={HomeScreen} exact />\n\t\t\t\t\t<Route path=\"/login\" component={LoginScreen} />\n\t\t\t\t\t<Route path=\"/register\" component={RegisterScreen} />\n\t\t\t\t\t<Route path=\"/profile\" component={ProfileScreen} />\n\t\t\t\t\t<Route path=\"/admin/userlist\" component={UserListScreen} />\n\t\t\t\t\t<Route path=\"/admin/productlist\" component={ProductListScreen} exact/>\n\t\t\t\t\t<Route path=\"/admin/productlist/:pageNumber\" component={ProductListScreen} exact/>\n\t\t\t\t\t<Route path=\"/admin/orderlist\" component={OrderListScreen} />\n\t\t\t\t\t<Route path=\"/admin/user/:id/edit\" component={UserEditScreen} />\n\t\t\t\t\t<Route path=\"/admin/product/:id/edit\" component={ProductEditScreen} />\n\t\t\t\t\t<Route path=\"/product/:id\" component={ProductScreen} />\n\t\t\t\t\t<Route path=\"/cart/:id?\" component={CartScreen} />\n\t\t\t\t\t<Route path=\"/shipping\" component={ShippingScreen} />\n\t\t\t\t\t<Route path=\"/payment\" component={PaymentScreen} />\n\t\t\t\t\t<Route path=\"/placeorder\" component={PlaceOrderScreen} />\n\t\t\t\t\t<Route path=\"/order/:id\" component={OrderScreen} />\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t\t<Footer />\n\t\t</Router>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport store from './store.js'\nimport './bootstrap.min.css'\nimport './index.css';\nimport App from './App.js';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n\n"],"sourceRoot":""}